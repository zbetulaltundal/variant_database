{% extends "layout.html" %}
{% block title %}Tarama Sonuçları{% endblock %}
{% block content %}
<div class="container mx-5 my-3">
    <div class="d-flex justify-content-between">
        <p class="col-6 fs-2 fw-bold">Tarama Sonuçları</p>
        <a class="col-6 button" href="{{ url_for('home_page') }}">Başka bir VCF dosyası yükleyin</a>
    </div>
    <div>
        <h6>Tarama sonuçlarını görüntülemek istediğiniz varyantın üzerine tıklayın.</h6>
        <div class="row d-flex justify-content-center">
            <ul class="list-group">
            {% for result in results %}
                <!-- <a href="/tarama-sonuclari/chrom={{result['chrom']}}&pos={{result['pos']}}&alt={{result['alt']}}&ref={{result['ref']}}" class="col-2 countries-card-link text-decoration-none mt-4 px-0 mx-3"> -->
                <li class="list-group-item">
                    <a href="{{ url_for('variant_details', chrom=result['chrom'], pos=result['pos'], alt=result['alt'], ref=result['ref'])}}" class="col-2 text-decoration-none mt-4 px-0 mx-3">
                        Varyant İçin Tarama Sonuçları <b>CHROM :</b> {{result["chrom"][0]}} <b>POS :</b> {{result["pos"][0]}} <b>REF :</b> {{result["ref"][0]}} <b>ALT :</b> {{result["alt"][0]}} </a>
                </li>
                
            {% endfor %}
        </ul>
        </div>
        <!-- her bir varyant için tüm columnlar + link ekle -->
        <!-- yeni bir filtre bul columnlar için -->
        <h6>Varyant Hakkındaki Diğer Detaylar</h6>
        <table id="variant-table" class="ms-0 py-0 display table table-hover table-bordered table-responsive">
            <thead class="thead-dark">
            <tr>
                {% for col in column_names %}
                   <th class={{col}}>{{col}}</th>
                {% endfor %}
            </tr>

            </thead>
            <tbody>
            {% for key, row in table_df.iterrows() %}
            <tr class="variant-table-row">
                {% for col, row_ in zip(column_names, row) %}
                    <td>{{row_}}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
        </table> 
    </div>
</div>
{% endblock %}